# Copyright (c) Mondoo, Inc.
# SPDX-License-Identifier: BUSL-1.1

---
# defaults file for mondoo

use_become: true

# This is the base URL for Mondoo releases; it is built into the product.
# We don’t recommend changing it unless you have a specific need.
mondoo_releases_base_url: "https://releases.mondoo.com"
# This is the default URL for provider downloads; it is built into the product.
# We don’t recommend changing it unless you have a specific need.
# The default providers URL is used to determine whether a custom provider URL
# should be set within the config.
# By default, we do not set this value in the config unless it differs from the default.
# If you want to use a custom provider URL, set `mondoo_providers_url` to your custom URL.
mondoo_default_providers_url: "https://releases.mondoo.com/providers"

# providers configuration
mondoo_providers_url: "{{ mondoo_default_providers_url }}"
mondoo_providers_autoupdate: true

latest_version_url: "{{ mondoo_releases_base_url }}/mondoo/latest.json"

# option to force a re-registration
force_registration: false

# we support 'manual'
# if 'manual' is set, the user need to set `registration_token`
registration_token_retrieval: "manual"

timer: "60"
splay: "60"

# annotation/ tags for the node
annotations: ""

# registration token for mondoo platform
registration_token: ""

# proxy configuration
proxy_env: {}

# ensure clients are managed in mondoo platform
ensure_managed_client: false

# Update Task for cnspec (Linux)
update_linux_enabled: false
update_linux_cron_day: "*/3"
update_linux_cron_hour: "12"
update_linux_cron_minute: "00"

# Update Task for cnspec (Windows)
update_windows_enabled: false
update_windows_interval: "3"
update_windows_time: "12:00:00"

# gpg key id
mondoo_gpg_keyid: 4CE909E26AE7439C39CE7647AC69C65100E1C42B

# deb repo
mondoo_deb_repo_base_url: "{{ mondoo_releases_base_url }}/debian/"
mondoo_deb_repo: "{{ mondoo_deb_repo_base_url }} stable main"
mondoo_deb_gpgkey: "{{ mondoo_releases_base_url }}/debian/pubkey.gpg"
mondoo_deb_gpgkey_dest: "/usr/share/keyrings/mondoo-archive-keyring.gpg"

# yum repo and keys
# 'mondoo_subscription_manager_repo_id' explicitly excludes 'mondoo_rpm_*'
mondoo_subscription_manager_repo_id: ""
mondoo_rpm_repo: "{{ mondoo_releases_base_url }}/rpm/$basearch/"
mondoo_rpm_gpgkey: "{{ mondoo_releases_base_url }}/rpm/pubkey.gpg"

# zypper repo
mondoo_zypper_repo: "{{ mondoo_releases_base_url }}/rpm/{{ ansible_userspace_architecture }}/"
mondoo_zypper_gpgkey: "{{ mondoo_releases_base_url }}/rpm/pubkey.gpg"

# download and transfer
mondoo_download_path: /tmp/mondoo_cache/
mondoo_tmp_windows: "{{ ansible_env.TEMP }}\\s1_install"
